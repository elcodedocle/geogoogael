<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Geogoogael : Googael Analytics: IP based geolocation for Apache access_log using Google Maps API v3" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Geogoogael</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/elcodedocle/geogoogael">View on GitHub</a>

          <h1 id="project_title">Geogoogael</h1>
          <h2 id="project_tagline">Googael Analytics: IP based geolocation for Apache access_log using Google Maps API v3</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/elcodedocle/geogoogael/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/elcodedocle/geogoogael/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="googael-analytics-v04" class="anchor" href="#googael-analytics-v04"><span class="octicon octicon-link"></span></a>Googael Analytics v0.4</h1>

<h4>
<a name="ip-based-geolocation-for-apache-access-log" class="anchor" href="#ip-based-geolocation-for-apache-access-log"><span class="octicon octicon-link"></span></a><em>IP based geolocation for Apache access log</em>
</h4>

<p>Copyright (C) 2013 Gael Abadin<br>
 License: <a href="https://github.com/elcodedocle/geogoogael/blob/master/LICENSE">MIT Expat</a>
â€Ž</p>

<h2>
<a name="what-this-is" class="anchor" href="#what-this-is"><span class="octicon octicon-link"></span></a>What this is</h2>

<p>A marvelous piece of software you can roll on your apache web server in order to get some geographical info about your site's visitors on a super cool map, chart and table.  Check it all out working in this <a href="http://tester:retset@geovolutions.com/geogoogael/test">demo</a>.</p>

<p><img src="http://i.imgur.com/1XTHzX9.png" alt="Geogoogael test site snapshot with data from bundled fake access_log generator" title="This is how geogoogael's test site looks like. Data is fake on this site! (generated by geoogogael's fake access_log generator. Check it out!)"></p>

<h2>
<a name="what-this-is-not" class="anchor" href="#what-this-is-not"><span class="octicon octicon-link"></span></a>What this is not</h2>

<p>A serious web traffic analytics or maps rendering tool.</p>

<p>If you know all about KPIs, mapnik, geoJSON, PostGIS geometries, etc. you are probably wasting your time here: This is just an amusement, not precisely a proper web analytics tool with an embedded GIS, but if you find it useful and miss any features I'm open to suggestions.</p>

<p>So, that's it.</p>

<h2>
<a name="change-log" class="anchor" href="#change-log"><span class="octicon octicon-link"></span></a>Change Log</h2>

<h3>
<a name="update-v04" class="anchor" href="#update-v04"><span class="octicon octicon-link"></span></a>UPDATE v0.4</h3>

<ul>
<li>Client-side input validation. </li>
<li>REST-alike clean URLs. </li>
<li>Masked IPs option. </li>
<li>Optimized access log parsing. </li>
<li>HTTPBasicAuth support. </li>
<li>A lot of refactoring.</li>
</ul><h3>
<a name="update-v03" class="anchor" href="#update-v03"><span class="octicon octicon-link"></span></a>UPDATE v0.3</h3>

<ul>
<li>Optimized database queries.</li>
<li>Error message handling.</li>
<li>Fake <code>access_log</code> file generator (for testing purposes and show off).</li>
</ul><p>(I wanted to see how this app would perform on huge access_log files, but didn't have any, so I ended up overkilling the issue by designing the nastiest, most awesome <code>access_log</code> generator the world will ever ignore, using discrete event statistical modeling theory, forked processes and shared memory with signaling and semaphores and all kinds of freaky stuff. Check its code for more info ;-))</p>

<h3>
<a name="update-v02" class="anchor" href="#update-v02"><span class="octicon octicon-link"></span></a>UPDATE v0.2</h3>

<ul>
<li>Super cool zoomable timeline chart with granularity modulation (visits per minute, hour, day or month).</li>
</ul><h2>
<a name="known-bugs" class="anchor" href="#known-bugs"><span class="octicon octicon-link"></span></a>Known Bugs</h2>

<p>I have not the time or the patience to test this code thoroughly so, as Doctor Knuth would say, "I have only proven it correct". Since my skills are nowhere near Doctor Knuth's, beware of the many bugs and help me clean the code by <a href="http://tester:retset@geovolutions.com/geogoogael/test">reporting them</a> (I'll fix anything reported ASAP.) </p>

<h2>
<a name="how-to-installconfigdeploy" class="anchor" href="#how-to-installconfigdeploy"><span class="octicon octicon-link"></span></a>How to install/config/deploy</h2>

<ul>
<li>Read comments at the beginning of geogoogael/setup/setup.php file.</li>
</ul><h2>
<a name="how-to-use" class="anchor" href="#how-to-use"><span class="octicon octicon-link"></span></a>How to use</h2>

<ul>
<li>After deployment, hit deployment location.</li>
</ul><h2>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h2>

<ul>
<li>Filters on the map markers and chart data points. </li>
<li>Gettext translations. </li>
<li>Support for different access_log formats. </li>
<li>.htaccess tweaks. </li>
<li>Websockets based real time option (v0.5).</li>
<li>Snippety thingy for selective logging (v0.6).</li>
<li>Wordpress/Drupal plugin. </li>
<li>Android client.</li>
</ul><h2>
<a name="acknowledgments" class="anchor" href="#acknowledgments"><span class="octicon octicon-link"></span></a>Acknowledgments</h2>

<p>Everybody behind this thick fraking stack that makes the awesome possible.</p>

<h2>
<a name="want-to-contribute" class="anchor" href="#want-to-contribute"><span class="octicon octicon-link"></span></a>Want to contribute?</h2>

<ol>
<li>
<a href="https://github.com/elcodedocle/geogoogael/fork">Fork me</a> on github </li>
<li>
<code>git checkout -b newbranch</code> and <code>git push origin newbranch</code> your commits</li>
<li>Make a <a href="https://github.com/elcodedocle/geogoogael/compare/">pull request</a> from your branch</li>
</ol><p>AND/OR</p>

<ul>
<li>Buy me a beer! ( <a href="http://goo.gl/zCDmg5">Paypal</a> or <a>Bitcoin</a>: 15QjBzCVckAwtLK5v95M8GS2tbpnTwKm5B )</li>
</ul><h2>
<a name="faq" class="anchor" href="#faq"><span class="octicon octicon-link"></span></a>FAQ</h2>

<p><strong>Q</strong>: I can't access the app on the specified location when setup finishes.<br><strong>A</strong>: You probably have a conflict with an existing .htaccess on your server. Add the this two lines at the top of all your previously existent .htaccess files on the path to the one generated by setup.php, right after <code>RewriteEngine on</code> line:</p>

<div class="highlight highlight-apache"><pre><span class="nb">RewriteCond</span> %{REQUEST_URI} ^/uri/path/to/geogoogael/parent/folder(/.*)?$
<span class="nb">RewriteRule</span> (.*) $1 [L]
</pre></div>

<p>(of course you need to replace the path with the real path to the app's deployment folder from the webroot)</p>

<p><strong>Q</strong>: Does it work on windows?<br><strong>A</strong>: No. You should be able to patch it and have it working in about 5 minutes, though. This is because I don't like or care about WAMP very much. (Sorry)</p>

<p><strong>Q</strong>: It is working, but why so darn slow?<br><strong>A</strong>: Maybe you are not caching database queries? Try enabling cache on you my.cnf mysql/mariadb server config file and setting cache size to at least 16MB. On big log files some requests can still take more than a minute at first, probably due to the log file not being cached on the RAM yet.</p>

<p><strong>Q</strong>: Why did you go all this way instead of just using google analytics?<br><strong>A</strong>: There may be a better explanation in the foreseeable future, but mainly because I could do it and felt like doing it.</p>

<p><strong>Q</strong>: To be clear... Is there any advantage on using this over google analytics?<br><strong>A</strong>: None that I can think of... Nope. None at all.</p>

<p><strong>Q</strong>: Can I use this code commercially?<br><strong>A</strong>: Yes, you can. </p>

<p>Specifically, this code and the libraries it uses (which you will find on geogoogael/lib folder) have GPLv2 compatible licenses that allow commercial use free of charge, with two notable exceptions: <a href="http://goo.gl/XC8UjG">Google Maps API</a> and <a href="http://goo.gl/dq0bwj">highcharts plugin</a>, both with available licensing options for commercial use which are not free of charge (check out the links for pricing). About the geolocation database, it is available for free for commercial use, as long as the terms stated <a href="http://lite.ip2location.com/terms-of-use">here</a> are met. </p>

<p>This product includes IP2Location LITE data available from <a href="http://www.ip2location.com">http://www.ip2location.com</a></p>

<p>There you go. Have fun.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Geogoogael maintained by <a href="https://github.com/elcodedocle">elcodedocle</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-44732985-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
